package com.xiaolanger.toy.json;

import org.junit.Assert;
import org.junit.Test;

public class JsonReaderTest {
    @Test
    public void testJsonObject() {
        String jsonObjectString = "{\"_id\":\"5bbdc3a66f1b9997c1b9dbd2\",\"index\":0,\"guid\":\"99dc869f-b469-4a55-a2b6-4abb42732c68\",\"isActive\":true,\"balance\":\"$2,472.25\",\"picture\":\"http://placehold.it/32x32\",\"age\":30,\"eyeColor\":\"green\",\"name\":\"Ruiz Gutierrez\",\"gender\":\"male\",\"company\":\"ECSTASIA\",\"email\":\"ruizgutierrez@ecstasia.com\",\"phone\":\"+1 (927) 553-2002\",\"address\":\"315 Rugby Road, Wilmington, Minnesota, 8382\",\"about\":\"Laborum et mollit sit est est cillum cupidatat ad fugiat irure deserunt id aliqua. Sit ea nostrud tempor cillum adipisicing est. Consectetur ad labore irure Lorem aliquip commodo culpa sint ut mollit. Laboris irure qui tempor laboris id ullamco aute. Cupidatat Lorem laborum labore id adipisicing qui ut. Quis esse Lorem esse amet.\\r\\n\",\"registered\":\"2014-05-22T10:41:13 -08:00\",\"latitude\":-40.462645,\"longitude\":34.731448,\"tags\":[\"aliquip\",\"tempor\",\"nulla\",\"sint\",\"nisi\",\"culpa\",\"in\"],\"friends\":[{\"id\":0,\"name\":\"Earlene Wade\"},{\"id\":1,\"name\":\"Nona Langley\"},{\"id\":2,\"name\":\"Genevieve Preston\"}],\"greeting\":\"Hello, Ruiz Gutierrez! You have 7 unread messages.\",\"favoriteFruit\":\"apple\"}";
        JsonObject jo = new JsonObject(jsonObjectString);

        Assert.assertEquals(jo.getJsonArray("friends").getJsonObject(2).getInt("id"), 2);
        Assert.assertEquals(jo.getBool("isActive"), true);
        Assert.assertEquals(jo.getDouble("latitude"), -40.462645, 0.0000000001);
    }

    @Test
    public void testJsonArray() {
        String jsonArrayString = "[{\"_id\":\"5bbdc42aa26dea492ffd651a\",\"index\":0,\"guid\":\"a7e89cd4-dd86-42da-8a62-7cead49848b7\",\"isActive\":true,\"balance\":\"$2,004.27\",\"picture\":\"http://placehold.it/32x32\",\"age\":28,\"eyeColor\":\"brown\",\"name\":{\"first\":\"Maribel\",\"last\":\"Hensley\"},\"company\":\"ZILLATIDE\",\"email\":\"maribel.hensley@zillatide.org\",\"phone\":\"+1 (886) 554-2718\",\"address\":\"138 Bridgewater Street, Berlin, New Mexico, 7183\",\"about\":\"Culpa ullamco nostrud duis elit sint id ad cupidatat magna. Sint elit ipsum consequat ad minim commodo irure. Tempor eu elit aute mollit. Veniam veniam commodo eu dolore anim eu veniam ipsum sint cillum consectetur esse nulla.\",\"registered\":\"Monday, January 11, 2016 8:23 PM\",\"latitude\":\"4.315872\",\"longitude\":\"105.454517\",\"tags\":[\"id\",\"exercitation\",\"ut\",\"minim\",\"sit\"],\"range\":[0,1,2,3,4,5,6,7,8,9],\"friends\":[{\"id\":0,\"name\":\"Patel Gaines\"},{\"id\":1,\"name\":\"Jamie Cooke\"},{\"id\":2,\"name\":\"Meredith Alston\"}],\"greeting\":\"Hello, Maribel! You have 8 unread messages.\",\"favoriteFruit\":\"banana\"},{\"_id\":\"5bbdc42ab2704ea4fa055bae\",\"index\":1,\"guid\":\"b3b9899f-b1d3-4175-af50-e25538e8b06d\",\"isActive\":true,\"balance\":\"$3,728.42\",\"picture\":\"http://placehold.it/32x32\",\"age\":23,\"eyeColor\":\"green\",\"name\":{\"first\":\"Gonzalez\",\"last\":\"Mercer\"},\"company\":\"BITREX\",\"email\":\"gonzalez.mercer@bitrex.biz\",\"phone\":\"+1 (814) 484-2972\",\"address\":\"948 Cambridge Place, Steinhatchee, Hawaii, 7093\",\"about\":\"Deserunt ex fugiat incididunt mollit adipisicing. Irure proident veniam eiusmod aliquip. Elit cillum eu incididunt non. Fugiat Lorem mollit dolor sint proident excepteur pariatur nulla veniam esse ex enim.\",\"registered\":\"Sunday, December 25, 2016 12:04 PM\",\"latitude\":\"22.165516\",\"longitude\":\"-81.582553\",\"tags\":[\"ea\",\"consequat\",\"ad\",\"deserunt\",\"irure\"],\"range\":[0,1,2,3,4,5,6,7,8,9],\"friends\":[{\"id\":0,\"name\":\"Robert Oconnor\"},{\"id\":1,\"name\":\"Gena Workman\"},{\"id\":2,\"name\":\"Faye Moore\"}],\"greeting\":\"Hello, Gonzalez! You have 10 unread messages.\",\"favoriteFruit\":\"apple\"},{\"_id\":\"5bbdc42a8692f28d92b70189\",\"index\":2,\"guid\":\"a468337a-de23-41c8-b912-0caf9f7d4852\",\"isActive\":true,\"balance\":\"$2,028.86\",\"picture\":\"http://placehold.it/32x32\",\"age\":24,\"eyeColor\":\"brown\",\"name\":{\"first\":\"Ramona\",\"last\":\"Mcmillan\"},\"company\":\"GEEKUS\",\"email\":\"ramona.mcmillan@geekus.name\",\"phone\":\"+1 (806) 543-2731\",\"address\":\"993 Ferry Place, Fowlerville, Arkansas, 8645\",\"about\":\"Laboris occaecat proident commodo consequat do do tempor dolore ex aliquip in et elit. Consequat cupidatat nostrud ad laboris mollit incididunt. Duis ea anim velit cillum esse elit dolor consectetur Lorem aute. Id cillum consectetur incididunt dolore laboris non culpa velit incididunt laborum dolore Lorem cillum nostrud. Id aliquip minim nisi esse. Sit veniam consectetur exercitation irure elit.\",\"registered\":\"Tuesday, July 22, 2014 12:03 PM\",\"latitude\":\"-66.61938\",\"longitude\":\"49.261519\",\"tags\":[\"nulla\",\"elit\",\"velit\",\"id\",\"labore\"],\"range\":[0,1,2,3,4,5,6,7,8,9],\"friends\":[{\"id\":0,\"name\":\"Jewel Oneil\"},{\"id\":1,\"name\":\"Jill Mullen\"},{\"id\":2,\"name\":\"Curtis Riddle\"}],\"greeting\":\"Hello, Ramona! You have 7 unread messages.\",\"favoriteFruit\":\"strawberry\"},{\"_id\":\"5bbdc42a90c575d567ccaf65\",\"index\":3,\"guid\":\"c402be2c-9a6e-4b0a-9e41-ea06f5608348\",\"isActive\":true,\"balance\":\"$1,670.75\",\"picture\":\"http://placehold.it/32x32\",\"age\":22,\"eyeColor\":\"green\",\"name\":{\"first\":\"Walsh\",\"last\":\"Dejesus\"},\"company\":\"HOMETOWN\",\"email\":\"walsh.dejesus@hometown.co.uk\",\"phone\":\"+1 (990) 449-3156\",\"address\":\"941 Diamond Street, Castleton, Nevada, 1403\",\"about\":\"Ullamco elit proident Lorem sit labore mollit. Excepteur dolor mollit cillum et consectetur voluptate velit qui consequat. Sit ut consectetur in officia deserunt fugiat veniam enim qui quis aliqua. Adipisicing quis incididunt ut ullamco consequat et voluptate amet amet reprehenderit aute. Et duis magna elit ad esse dolore tempor reprehenderit aliqua. Dolor cillum laborum duis ut fugiat eu magna consequat in consequat sunt nulla sit eu. Laboris duis non commodo exercitation exercitation non laborum consectetur aliquip cillum do aute aute.\",\"registered\":\"Friday, September 28, 2018 4:48 PM\",\"latitude\":\"-65.275747\",\"longitude\":\"149.438901\",\"tags\":[\"velit\",\"quis\",\"dolor\",\"enim\",\"aute\"],\"range\":[0,1,2,3,4,5,6,7,8,9],\"friends\":[{\"id\":0,\"name\":\"Solomon Garza\"},{\"id\":1,\"name\":\"Karyn Weber\"},{\"id\":2,\"name\":\"Annabelle Kent\"}],\"greeting\":\"Hello, Walsh! You have 7 unread messages.\",\"favoriteFruit\":\"apple\"},{\"_id\":\"5bbdc42a53910e0ce6e04364\",\"index\":4,\"guid\":\"fd0677a7-ca30-478f-ae24-6d38d9b61a2f\",\"isActive\":false,\"balance\":\"$3,966.94\",\"picture\":\"http://placehold.it/32x32\",\"age\":39,\"eyeColor\":\"brown\",\"name\":{\"first\":\"Cotton\",\"last\":\"Sargent\"},\"company\":\"INTERLOO\",\"email\":\"cotton.sargent@interloo.tv\",\"phone\":\"+1 (899) 523-3884\",\"address\":\"364 Suydam Street, Homestead, Iowa, 7181\",\"about\":\"Et sunt non culpa officia enim. Eiusmod nisi Lorem ex eiusmod. Quis aute id est consequat nulla non cillum sit pariatur dolor veniam do labore. Est elit qui minim ut laborum nisi nisi sint incididunt velit ex dolore labore. Non anim qui commodo aliqua elit ipsum ipsum ea non cillum eiusmod deserunt. Consequat labore amet ipsum occaecat quis culpa velit eu. Lorem ullamco excepteur anim occaecat sunt eiusmod tempor aliquip eu.\",\"registered\":\"Tuesday, May 24, 2016 6:02 PM\",\"latitude\":\"-34.017775\",\"longitude\":\"-150.75999\",\"tags\":[\"officia\",\"voluptate\",\"sit\",\"nulla\",\"consequat\"],\"range\":[0,1,2,3,4,5,6,7,8,9],\"friends\":[{\"id\":0,\"name\":\"Jana Hood\"},{\"id\":1,\"name\":\"Hurst Buchanan\"},{\"id\":2,\"name\":\"Powell Young\"}],\"greeting\":\"Hello, Cotton! You have 7 unread messages.\",\"favoriteFruit\":\"strawberry\"},{\"_id\":\"5bbdc42abcd9d2cf4ae467cf\",\"index\":5,\"guid\":\"a216bdd0-e0a5-44b1-8eab-3f1d1e01ee6e\",\"isActive\":false,\"balance\":\"$3,052.70\",\"picture\":\"http://placehold.it/32x32\",\"age\":36,\"eyeColor\":\"green\",\"name\":{\"first\":\"Nelda\",\"last\":\"Schwartz\"},\"company\":\"PHARMACON\",\"email\":\"nelda.schwartz@pharmacon.biz\",\"phone\":\"+1 (995) 418-2793\",\"address\":\"931 Brightwater Court, Wikieup, Vermont, 3000\",\"about\":\"Sint et commodo adipisicing culpa dolor est ipsum quis culpa. Fugiat aliqua irure qui eu quis pariatur. Id cupidatat ex pariatur voluptate magna occaecat laboris culpa. Sit voluptate ipsum ex labore incididunt incididunt do irure. Fugiat deserunt consequat est duis voluptate labore aute commodo id.\",\"registered\":\"Thursday, November 13, 2014 11:10 AM\",\"latitude\":\"47.849516\",\"longitude\":\"-167.690254\",\"tags\":[\"aliqua\",\"officia\",\"incididunt\",\"nisi\",\"ea\"],\"range\":[0,1,2,3,4,5,6,7,8,9],\"friends\":[{\"id\":0,\"name\":\"Rita Graves\"},{\"id\":1,\"name\":\"Paulette Bean\"},{\"id\":2,\"name\":\"Wiggins Valenzuela\"}],\"greeting\":\"Hello, Nelda! You have 10 unread messages.\",\"favoriteFruit\":\"strawberry\"}]";
        JsonArray ja = new JsonArray(jsonArrayString);

        Assert.assertEquals(ja.getJsonObject(1).getBool("isActive"), true);
        Assert.assertEquals(ja.getJsonObject(2).getJsonArray("range").getInt(3), 3);
    }
}
